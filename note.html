<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XRP ê°€ê²© ëª¨ë‹ˆí„°</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        background-color: #101010;
        color: #00ffcc;
        text-align: center;
        padding: 40px 20px;
      }

      h1 {
        font-size: 2.2rem;
        margin-bottom: 20px;
      }

      #price {
        font-size: 1.8rem;
        margin: 20px 0;
      }

      .note {
        color: #bbbbbb;
        font-size: 0.95rem;
        margin-top: 30px;
      }

      a {
        color: #00ffff;
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <h1>ğŸ“ˆ ì‹¤ì‹œê°„ XRP ê°€ê²© ëª¨ë‹ˆí„°</h1>
    <div id="price">ê°€ê²© ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

    <div class="note" id="notice">ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ ì¤‘...</div>

    <div class="note">
      *ë§¤ë„ ì§€í‘œ ì°¸ê³ :<br />
      -
      <a href="https://www.tradingview.com/symbols/BTC.D/" target="_blank"
        >BTC ë„ë¯¸ë„ŒìŠ¤</a
      >
      50 ì´í•˜<br />
      -
      <a
        href="https://cryptoquant.com/asset/btc/chart/market-indicator/mvrv-ratio"
        target="_blank"
        >BTC MVRV-Z</a
      >
      3.7 ì´ìƒ<br />
      -
      <a
        href="https://www.blockchaincenter.net/en/altcoin-season-index/"
        target="_blank"
        >Altseason Index</a
      >
      75 ì´ìƒ<br />
      -
      <a
        href="https://www.blockchaincenter.net/en/bitcoin-rainbow-chart/"
        target="_blank"
        >BTC Rainbow</a
      >
      Yellow ì§„ì… ì‹œ<br />
      - ê¹€ì¹˜ í”„ë¦¬ë¯¸ì—„ 10% ì´ìƒ<br />
      - ì½”ì¸ë² ì´ìŠ¤ ì•± ìˆœìœ„ ìƒìŠ¹<br />
    </div>

    <script>
      const alertLevels = [10, 30, 50];
      const triggeredLevels = new Set();
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      const notice = document.getElementById("notice");

      // ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ (ë°ìŠ¤í¬íƒ‘ë§Œ)
      if (!isMobile) {
        if (Notification.permission === "default") {
          Notification.requestPermission().then((permission) => {
            notice.innerText =
              permission === "granted"
                ? "ğŸ”” ì•Œë¦¼ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤."
                : "âŒ ì•Œë¦¼ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.";
          });
        } else {
          notice.innerText =
            Notification.permission === "granted"
              ? "ğŸ”” ì•Œë¦¼ì´ ì´ë¯¸ í—ˆìš©ë¨"
              : "âŒ ì•Œë¦¼ì´ ì°¨ë‹¨ë¨";
        }
      } else {
        notice.innerText = "ğŸ“± ëª¨ë°”ì¼ì—ì„œëŠ” ì•Œë¦¼ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
      }

      // ê°€ê²© ì²´í¬ í•¨ìˆ˜
      async function checkXRPPrice() {
        try {
          const res = await fetch(
            "https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd"
          );
          const data = await res.json();
          const price = data.ripple.usd;
          document.getElementById(
            "price"
          ).innerText = `í˜„ì¬ XRP ê°€ê²©: $${price}`;

          alertLevels.forEach((level) => {
            if (price >= level && !triggeredLevels.has(level)) {
              triggeredLevels.add(level);

              if (!isMobile && Notification.permission === "granted") {
                new Notification(`ğŸš€ XRPê°€ $${level} ëŒíŒŒ! í˜„ì¬ê°€: $${price}`);
              } else if (isMobile) {
                console.log(`ì•Œë¦¼: XRP $${level} ëŒíŒŒ! í˜„ì¬ê°€: $${price}`);
              }
            }
          });
        } catch (err) {
          document.getElementById("price").innerText =
            "âŒ ê°€ê²© ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
          console.error("ì—ëŸ¬ ë°œìƒ:", err);
        }
      }

      // 30ì´ˆë§ˆë‹¤ ì²´í¬
      setInterval(checkXRPPrice, 30000);
      checkXRPPrice();
    </script>
  </body>
</html>
